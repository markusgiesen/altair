/**
 * Altair
 *
 * A neat SASS-based, and gruntified, front-end starter package build on top of file-based Kirby CMS.
 *
 * @authors	Jonathan van Wunnik <jonathan@studiodumbar.com>, Marijn Tijhuis <marijn@studiodumbar.com>
 * @license	MIT
 * @link	http://altair.studiodumbar.info
 * @version	0.1.9
 * @generated	2014-01-27:05:01
 */
!function(factory){"function"==typeof define&&define.amd?define(["jquery"],factory):factory(jQuery)}(function($){function raw(s){return s}function decoded(s){return decodeURIComponent(s.replace(pluses," "))}function converted(s){0===s.indexOf('"')&&(s=s.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return config.json?JSON.parse(s):s}catch(er){}}var pluses=/\+/g,config=$.cookie=function(key,value,options){if(void 0!==value){if(options=$.extend({},config.defaults,options),"number"==typeof options.expires){var days=options.expires,t=options.expires=new Date;t.setDate(t.getDate()+days)}return value=config.json?JSON.stringify(value):String(value),document.cookie=[config.raw?key:encodeURIComponent(key),"=",config.raw?value:encodeURIComponent(value),options.expires?"; expires="+options.expires.toUTCString():"",options.path?"; path="+options.path:"",options.domain?"; domain="+options.domain:"",options.secure?"; secure":""].join("")}for(var decode=config.raw?raw:decoded,cookies=document.cookie.split("; "),result=key?void 0:{},i=0,l=cookies.length;l>i;i++){var parts=cookies[i].split("="),name=decode(parts.shift()),cookie=decode(parts.join("="));if(key&&key===name){result=converted(cookie);break}key||(result[name]=converted(cookie))}return result};config.defaults={},$.removeCookie=function(key,options){return void 0!==$.cookie(key)?($.cookie(key,"",$.extend({},options,{expires:-1})),!0):!1}}),function(factory){"function"==typeof define&&define.amd?define(["jquery"],factory):factory(jQuery)}(function($){"use strict";$.fn.externalize=function(options){var defaults={name:"external",target:!0,classes:"",relation:"external",title:"Opens in a new window"};return this.each(function(){var $this=$(this),isLink="A"===$this.get(0).nodeName||"AREA"===$this.get(0).nodeName,hasHref=$this.attr("href"),config=$.extend(defaults,options);isLink&&hasHref&&($this.attr({rel:$this.attr("rel")?$this.attr("rel")+" "+config.relation:config.relation,title:$this.attr("title")?$this.attr("title")+" ("+config.title+")":config.title}).addClass(config.classes),config.target?$this.attr("target",config.name):$this.on("click",function(evt){var external=window.open($this.attr("href"),config.name);external.focus(),evt.preventDefault()}))})}});var alerts={settings:{dismiss:"Dismiss"},options:{type:"bar"},init:function(push_message){if("undefined"!=typeof LANG_MESSAGE_DISMISS&&(this.settings.dismiss=LANG_MESSAGE_DISMISS),"undefined"!=typeof push_message)for(var i=0;i<push_message.length;i++)alerts.addMessage({status:push_message[i].status,content:push_message[i].text,timeout:push_message[i].timeout,type:push_message[i].type});$("body").on("click","[data-dismiss]",this.hideNotification)},addMessage:function(options){var message_element;$.extend(alerts.options,options),"bar"===alerts.options.type&&(message_element=$('<div class="Alert Alert--bar Alert--'+alerts.options.status+' js-alert" data-element-type="bar"><div class="Alert-message">'+alerts.options.content+'</div><button type="button" class="Alert-close" data-dismiss="Alert" aria-hidden="true" role="presentation">&times;</button></div>'),message_element.prependTo("body")),"modal"===alerts.options.type&&(message_element=$('<div class="Backdrop js-backdrop"></div><div class="Alert Alert--modal Alert--'+alerts.options.status+' js-alert" data-element-type="modal"><div class="Alert-message">'+alerts.options.content+'</div><button class="Button Button--primary" data-dismiss="Alert">'+this.settings.dismiss+"</button></div>"),message_element.appendTo("body")),this.showNotification(message_element),"undefined"!=typeof alerts.options.timeout&&0!==alerts.options.timeout&&setTimeout(function(){alerts.onTimeoutNotification(message_element)},alerts.options.timeout)},showNotification:function(element){var $notification=element;$notification.animate({marginTop:0},0).addClass("is-visible"),"modal"===alerts.options.type&&$(".Backdrop").addClass("is-visible")},hideNotification:function(event){var dismissselector=$(event.target).attr("data-dismiss"),$notification=$(event.target).parents("."+dismissselector);$notification.removeClass("is-visible").addClass("is-hidden"),"modal"===alerts.options.type&&$(".Backdrop").first().removeClass("is-visible").addClass("is-hidden");var notificationHasTransformSet=null,notificationHasWebkitTransformSet=null;return window.getComputedStyle&&(notificationHasTransformSet=window.getComputedStyle($notification.get(0),null).getPropertyValue("transform"),notificationHasWebkitTransformSet=window.getComputedStyle($notification.get(0),null).getPropertyValue("-webkit-transform")),Modernizr.csstransitions&&"none"!==notificationHasTransformSet&&"none"!==notificationHasWebkitTransformSet?$notification.on(transitionEnd,function(){alerts.removeNotificationElements($(this))}):alerts.removeNotificationElements($notification),!1},removeNotificationElements:function(element){var elementtype=element.attr("data-element-type");element.remove(),"modal"===elementtype&&$(".Backdrop").first().remove()},onTimeoutNotification:function(element){element.find("[data-dismiss]").click()}},navMain={init:function(){$(".js-navMainShow").on("click",navMain.open),$(".js-navMainHide").on("click",navMain.close)},setNavHandlers:function(){$(".js-navMain").on("click",navMain.handleNavClick),$(document).on("keyup",navMain.handleNavClick)},unsetNavHandlers:function(){$(".js-navMain").off("click"),$(document).off("keyup")},handleNavClick:function(event){return $(event.target).hasClass("js-navMain")||27===event.keyCode?(navMain.close(),!1):void 0},open:function(){return $("html").addClass("is-openMainNav"),navMain.setNavHandlers(),!1},close:function(){return $("html").removeClass("is-openMainNav"),navMain.unsetNavHandlers(),!1}},popup={openWindow:function(event){var url=$(event.currentTarget).attr("href");"undefined"==typeof event.data.h&&(event.data.h=400),"undefined"==typeof event.data.w&&(event.data.w=650),window.open(url,"popupwin","height="+event.data.h+",width="+event.data.w+",resizable=1,toolbar=0,menubar=0,status=0,location=0,scrollbars=1"),event.preventDefault()}},smoothScroll={init:function(scroll_element){$(scroll_element).on("click",smoothScroll.onScrollClick)},onScrollClick:function(element){var el=element.target;element.preventDefault(),element.stopPropagation();var target=$(el).attr("href"),scrollToPosition=$(target).offset().top-24;return $("html:not(:animated),body:not(:animated)").animate({scrollTop:scrollToPosition},1e3,function(){$("html,body").animate({scrollTop:scrollToPosition},0)}),!1}};$("html").hasClass("ctm")&&$(document).ready(function(){alerts.init(push_message),navMain.init(),smoothScroll.init(".js-scroll"),$(".js-popup").on("click",{},popup.openWindow),$(".js-external").externalize({relation:"external nofollow",title:"Opens link in new window"})});