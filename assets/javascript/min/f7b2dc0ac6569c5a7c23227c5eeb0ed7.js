/**
 * Altair
 *
 * A neat SASS-based front-end starter package build on top of file-based Kirby CMS.
 *
 * @authors	Jonathan van Wunnik <jonathan@studiodumbar.com>, Marijn Tijhuis <marijn@studiodumbar.com>
 * @copyright	2013 Studio Dumbar
 * @link	http://local.altair
 * @version	0.1.4
 * @generated	2013-12-04:04:12
 */
function whichTransitionEvent(){var t,el=document.createElement("fakeelement"),transitions={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in transitions)if(void 0!==el.style[t])return transitions[t]}!function($){$.fn.appendAround=function(){return this.each(function(){function appendToVisibleContainer(){$self.is(":hidden")&&$self.appendTo($set.filter(":visible:eq(0)"))}var $self=$(this),att="data-set",$set=$("["+att+"='"+$self.closest("["+att+"]").attr(att)+"']");appendToVisibleContainer()})}}(jQuery),function(factory){"function"==typeof define&&define.amd?define(["jquery"],factory):factory(jQuery)}(function($){function raw(s){return s}function decoded(s){return decodeURIComponent(s.replace(pluses," "))}function converted(s){0===s.indexOf('"')&&(s=s.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return config.json?JSON.parse(s):s}catch(er){}}var pluses=/\+/g,config=$.cookie=function(key,value,options){if(void 0!==value){if(options=$.extend({},config.defaults,options),"number"==typeof options.expires){var days=options.expires,t=options.expires=new Date;t.setDate(t.getDate()+days)}return value=config.json?JSON.stringify(value):String(value),document.cookie=[config.raw?key:encodeURIComponent(key),"=",config.raw?value:encodeURIComponent(value),options.expires?"; expires="+options.expires.toUTCString():"",options.path?"; path="+options.path:"",options.domain?"; domain="+options.domain:"",options.secure?"; secure":""].join("")}for(var decode=config.raw?raw:decoded,cookies=document.cookie.split("; "),result=key?void 0:{},i=0,l=cookies.length;l>i;i++){var parts=cookies[i].split("="),name=decode(parts.shift()),cookie=decode(parts.join("="));if(key&&key===name){result=converted(cookie);break}key||(result[name]=converted(cookie))}return result};config.defaults={},$.removeCookie=function(key,options){return void 0!==$.cookie(key)?($.cookie(key,"",$.extend({},options,{expires:-1})),!0):!1}}),function(factory){"function"==typeof define&&define.amd?define(["jquery"],factory):factory(jQuery)}(function($){"use strict";$.fn.externalize=function(options){var defaults={name:"external",target:!0,classes:"",relation:"external",title:"Opens in a new window"};return this.each(function(){var $this=$(this),isLink="A"===$this.get(0).nodeName||"AREA"===$this.get(0).nodeName,hasHref=$this.attr("href"),config=$.extend(defaults,options);isLink&&hasHref&&($this.attr({rel:$this.attr("rel")?$this.attr("rel")+" "+config.relation:config.relation,title:$this.attr("title")?$this.attr("title")+" ("+config.title+")":config.title}).addClass(config.classes),config.target?$this.attr("target",config.name):$this.on("click",function(evt){var external=window.open($this.attr("href"),config.name);external.focus(),evt.preventDefault()}))})}}),function($){$.resizeThrottle=function(arguments){var methods=$.extend({options:{throttletime:10},callback:function(){}},arguments),init=function(){var resizeThrottleVar=null;$(window).resize(function(){clearTimeout(resizeThrottleVar),resizeThrottleVar=setTimeout(function(){methods.callback.call(this)},methods.options.throttletime)})};init()}}(jQuery),function(global){function SignalBinding(signal,listener,isOnce,listenerContext,priority){this._listener=listener,this._isOnce=isOnce,this.context=listenerContext,this._signal=signal,this._priority=priority||0}function validateListener(listener,fnName){if("function"!=typeof listener)throw new Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",fnName))}function Signal(){this._bindings=[],this._prevParams=null;var self=this;this.dispatch=function(){Signal.prototype.dispatch.apply(self,arguments)}}SignalBinding.prototype={active:!0,params:null,execute:function(paramsArr){var handlerReturn,params;return this.active&&this._listener&&(params=this.params?this.params.concat(paramsArr):paramsArr,handlerReturn=this._listener.apply(this.context,params),this._isOnce&&this.detach()),handlerReturn},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal,delete this._listener,delete this.context},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}},Signal.prototype={VERSION:"1.0.0",memorize:!1,_shouldPropagate:!0,active:!0,_registerListener:function(listener,isOnce,listenerContext,priority){var binding,prevIndex=this._indexOfListener(listener,listenerContext);if(-1!==prevIndex){if(binding=this._bindings[prevIndex],binding.isOnce()!==isOnce)throw new Error("You cannot add"+(isOnce?"":"Once")+"() then add"+(isOnce?"Once":"")+"() the same listener without removing the relationship first.")}else binding=new SignalBinding(this,listener,isOnce,listenerContext,priority),this._addBinding(binding);return this.memorize&&this._prevParams&&binding.execute(this._prevParams),binding},_addBinding:function(binding){var n=this._bindings.length;do--n;while(this._bindings[n]&&binding._priority<=this._bindings[n]._priority);this._bindings.splice(n+1,0,binding)},_indexOfListener:function(listener,context){for(var cur,n=this._bindings.length;n--;)if(cur=this._bindings[n],cur._listener===listener&&cur.context===context)return n;return-1},has:function(listener,context){return-1!==this._indexOfListener(listener,context)},add:function(listener,listenerContext,priority){return validateListener(listener,"add"),this._registerListener(listener,!1,listenerContext,priority)},addOnce:function(listener,listenerContext,priority){return validateListener(listener,"addOnce"),this._registerListener(listener,!0,listenerContext,priority)},remove:function(listener,context){validateListener(listener,"remove");var i=this._indexOfListener(listener,context);return-1!==i&&(this._bindings[i]._destroy(),this._bindings.splice(i,1)),listener},removeAll:function(){for(var n=this._bindings.length;n--;)this._bindings[n]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(){if(this.active){var bindings,paramsArr=Array.prototype.slice.call(arguments),n=this._bindings.length;if(this.memorize&&(this._prevParams=paramsArr),n){bindings=this._bindings.slice(),this._shouldPropagate=!0;do n--;while(bindings[n]&&this._shouldPropagate&&bindings[n].execute(paramsArr)!==!1)}}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll(),delete this._bindings,delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};var signals=Signal;signals.Signal=Signal,"function"==typeof define&&define.amd?define(function(){return signals}):"undefined"!=typeof module&&module.exports?module.exports=signals:global.signals=signals}(this),function(){var factory=function(signals){function arrayIndexOf(arr,val){if(arr.indexOf)return arr.indexOf(val);for(var n=arr.length;n--;)if(arr[n]===val)return n;return-1}function arrayRemove(arr,item){var i=arrayIndexOf(arr,item);-1!==i&&arr.splice(i,1)}function isKind(val,kind){return"[object "+kind+"]"===Object.prototype.toString.call(val)}function isRegExp(val){return isKind(val,"RegExp")}function isArray(val){return isKind(val,"Array")}function isFunction(val){return"function"==typeof val}function typecastValue(val){var r;return r=null===val||"null"===val?null:"true"===val?!0:"false"===val?!1:val===UNDEF||"undefined"===val?UNDEF:""===val||isNaN(val)?val:parseFloat(val)}function typecastArrayValues(values){for(var n=values.length,result=[];n--;)result[n]=typecastValue(values[n]);return result}function decodeQueryString(str,shouldTypecast){for(var item,val,queryArr=(str||"").replace("?","").split("&"),n=queryArr.length,obj={};n--;)item=queryArr[n].split("="),val=shouldTypecast?typecastValue(item[1]):item[1],obj[item[0]]="string"==typeof val?decodeURIComponent(val):val;return obj}function Crossroads(){this.bypassed=new signals.Signal,this.routed=new signals.Signal,this._routes=[],this._prevRoutes=[],this._piped=[],this.resetState()}function Route(pattern,callback,priority,router){var isRegexPattern=isRegExp(pattern),patternLexer=router.patternLexer;this._router=router,this._pattern=pattern,this._paramsIds=isRegexPattern?null:patternLexer.getParamIds(pattern),this._optionalParamsIds=isRegexPattern?null:patternLexer.getOptionalParamsIds(pattern),this._matchRegexp=isRegexPattern?pattern:patternLexer.compilePattern(pattern,router.ignoreCase),this.matched=new signals.Signal,this.switched=new signals.Signal,callback&&this.matched.add(callback),this._priority=priority||0}var crossroads,_hasOptionalGroupBug,UNDEF;return _hasOptionalGroupBug=""===/t(.+)?/.exec("t")[1],Crossroads.prototype={greedy:!1,greedyEnabled:!0,ignoreCase:!0,ignoreState:!1,shouldTypecast:!1,normalizeFn:null,resetState:function(){this._prevRoutes.length=0,this._prevMatchedRequest=null,this._prevBypassedRequest=null},create:function(){return new Crossroads},addRoute:function(pattern,callback,priority){var route=new Route(pattern,callback,priority,this);return this._sortedInsert(route),route},removeRoute:function(route){arrayRemove(this._routes,route),route._destroy()},removeAllRoutes:function(){for(var n=this.getNumRoutes();n--;)this._routes[n]._destroy();this._routes.length=0},parse:function(request,defaultArgs){if(request=request||"",defaultArgs=defaultArgs||[],this.ignoreState||request!==this._prevMatchedRequest&&request!==this._prevBypassedRequest){var cur,routes=this._getMatchedRoutes(request),i=0,n=routes.length;if(n)for(this._prevMatchedRequest=request,this._notifyPrevRoutes(routes,request),this._prevRoutes=routes;n>i;)cur=routes[i],cur.route.matched.dispatch.apply(cur.route.matched,defaultArgs.concat(cur.params)),cur.isFirst=!i,this.routed.dispatch.apply(this.routed,defaultArgs.concat([request,cur])),i+=1;else this._prevBypassedRequest=request,this.bypassed.dispatch.apply(this.bypassed,defaultArgs.concat([request]));this._pipeParse(request,defaultArgs)}},_notifyPrevRoutes:function(matchedRoutes,request){for(var prev,i=0;prev=this._prevRoutes[i++];)prev.route.switched&&this._didSwitch(prev.route,matchedRoutes)&&prev.route.switched.dispatch(request)},_didSwitch:function(route,matchedRoutes){for(var matched,i=0;matched=matchedRoutes[i++];)if(matched.route===route)return!1;return!0},_pipeParse:function(request,defaultArgs){for(var route,i=0;route=this._piped[i++];)route.parse(request,defaultArgs)},getNumRoutes:function(){return this._routes.length},_sortedInsert:function(route){var routes=this._routes,n=routes.length;do--n;while(routes[n]&&route._priority<=routes[n]._priority);routes.splice(n+1,0,route)},_getMatchedRoutes:function(request){for(var route,res=[],routes=this._routes,n=routes.length;(route=routes[--n])&&((!res.length||this.greedy||route.greedy)&&route.match(request)&&res.push({route:route,params:route._getParamsArray(request)}),this.greedyEnabled||!res.length););return res},pipe:function(otherRouter){this._piped.push(otherRouter)},unpipe:function(otherRouter){arrayRemove(this._piped,otherRouter)},toString:function(){return"[crossroads numRoutes:"+this.getNumRoutes()+"]"}},crossroads=new Crossroads,crossroads.VERSION="0.12.0",crossroads.NORM_AS_ARRAY=function(req,vals){return[vals.vals_]},crossroads.NORM_AS_OBJECT=function(req,vals){return[vals]},Route.prototype={greedy:!1,rules:void 0,match:function(request){return request=request||"",this._matchRegexp.test(request)&&this._validateParams(request)},_validateParams:function(request){var key,rules=this.rules,values=this._getParamsObject(request);for(key in rules)if("normalize_"!==key&&rules.hasOwnProperty(key)&&!this._isValidParam(request,key,values))return!1;return!0},_isValidParam:function(request,prop,values){var validationRule=this.rules[prop],val=values[prop],isValid=!1,isQuery=0===prop.indexOf("?");return null==val&&this._optionalParamsIds&&-1!==arrayIndexOf(this._optionalParamsIds,prop)?isValid=!0:isRegExp(validationRule)?(isQuery&&(val=values[prop+"_"]),isValid=validationRule.test(val)):isArray(validationRule)?(isQuery&&(val=values[prop+"_"]),isValid=this._isValidArrayRule(validationRule,val)):isFunction(validationRule)&&(isValid=validationRule(val,request,values)),isValid},_isValidArrayRule:function(arr,val){if(!this._router.ignoreCase)return-1!==arrayIndexOf(arr,val);"string"==typeof val&&(val=val.toLowerCase());for(var item,compareVal,n=arr.length;n--;)if(item=arr[n],compareVal="string"==typeof item?item.toLowerCase():item,compareVal===val)return!0;return!1},_getParamsObject:function(request){for(var param,val,shouldTypecast=this._router.shouldTypecast,values=this._router.patternLexer.getParamValues(request,this._matchRegexp,shouldTypecast),o={},n=values.length;n--;)val=values[n],this._paramsIds&&(param=this._paramsIds[n],0===param.indexOf("?")&&val&&(o[param+"_"]=val,val=decodeQueryString(val,shouldTypecast),values[n]=val),_hasOptionalGroupBug&&""===val&&-1!==arrayIndexOf(this._optionalParamsIds,param)&&(val=void 0,values[n]=val),o[param]=val),o[n]=val;return o.request_=shouldTypecast?typecastValue(request):request,o.vals_=values,o},_getParamsArray:function(request){var params,norm=this.rules?this.rules.normalize_:null;return norm=norm||this._router.normalizeFn,params=norm&&isFunction(norm)?norm(request,this._getParamsObject(request)):this._getParamsObject(request).vals_},interpolate:function(replacements){var str=this._router.patternLexer.interpolate(this._pattern,replacements);if(!this._validateParams(str))throw new Error("Generated string doesn't validate against `Route.rules`.");return str},dispose:function(){this._router.removeRoute(this)},_destroy:function(){this.matched.dispose(),this.switched.dispose(),this.matched=this.switched=this._pattern=this._matchRegexp=null},toString:function(){return'[Route pattern:"'+this._pattern+'", numListeners:'+this.matched.getNumListeners()+"]"}},Crossroads.prototype.patternLexer=function(){function precompileTokens(){var key,cur;for(key in TOKENS)TOKENS.hasOwnProperty(key)&&(cur=TOKENS[key],cur.id="__CR_"+key+"__",cur.save="save"in cur?cur.save.replace("{{id}}",cur.id):cur.id,cur.rRestore=new RegExp(cur.id,"g"))}function captureVals(regex,pattern){var match,vals=[];for(regex.lastIndex=0;match=regex.exec(pattern);)vals.push(match[1]);return vals}function getParamIds(pattern){return captureVals(PARAMS_REGEXP,pattern)}function getOptionalParamsIds(pattern){return captureVals(TOKENS.OP.rgx,pattern)}function compilePattern(pattern,ignoreCase){return pattern=pattern||"",pattern&&(_slashMode===LOOSE_SLASH?pattern=pattern.replace(LOOSE_SLASHES_REGEXP,""):_slashMode===LEGACY_SLASH&&(pattern=pattern.replace(LEGACY_SLASHES_REGEXP,"")),pattern=replaceTokens(pattern,"rgx","save"),pattern=pattern.replace(ESCAPE_CHARS_REGEXP,"\\$&"),pattern=replaceTokens(pattern,"rRestore","res"),_slashMode===LOOSE_SLASH&&(pattern="\\/?"+pattern)),_slashMode!==STRICT_SLASH&&(pattern+="\\/?"),new RegExp("^"+pattern+"$",ignoreCase?"i":"")}function replaceTokens(pattern,regexpName,replaceName){var cur,key;for(key in TOKENS)TOKENS.hasOwnProperty(key)&&(cur=TOKENS[key],pattern=pattern.replace(cur[regexpName],cur[replaceName]));return pattern}function getParamValues(request,regexp,shouldTypecast){var vals=regexp.exec(request);return vals&&(vals.shift(),shouldTypecast&&(vals=typecastArrayValues(vals))),vals}function interpolate(pattern,replacements){if("string"!=typeof pattern)throw new Error("Route pattern should be a string.");var replaceFn=function(match,prop){var val;if(prop="?"===prop.substr(0,1)?prop.substr(1):prop,null!=replacements[prop]){if("object"==typeof replacements[prop]){var queryParts=[];for(var key in replacements[prop])queryParts.push(encodeURI(key+"="+replacements[prop][key]));val="?"+queryParts.join("&")}else val=String(replacements[prop]);if(-1===match.indexOf("*")&&-1!==val.indexOf("/"))throw new Error('Invalid value "'+val+'" for segment "'+match+'".')}else{if(-1!==match.indexOf("{"))throw new Error("The segment "+match+" is required.");val=""}return val};return TOKENS.OS.trail||(TOKENS.OS.trail=new RegExp("(?:"+TOKENS.OS.id+")+$")),pattern.replace(TOKENS.OS.rgx,TOKENS.OS.save).replace(PARAMS_REGEXP,replaceFn).replace(TOKENS.OS.trail,"").replace(TOKENS.OS.rRestore,"/")}var ESCAPE_CHARS_REGEXP=/[\\.+*?\^$\[\](){}\/'#]/g,LOOSE_SLASHES_REGEXP=/^\/|\/$/g,LEGACY_SLASHES_REGEXP=/\/$/g,PARAMS_REGEXP=/(?:\{|:)([^}:]+)(?:\}|:)/g,TOKENS={OS:{rgx:/([:}]|\w(?=\/))\/?(:|(?:\{\?))/g,save:"$1{{id}}$2",res:"\\/?"},RS:{rgx:/([:}])\/?(\{)/g,save:"$1{{id}}$2",res:"\\/"},RQ:{rgx:/\{\?([^}]+)\}/g,res:"\\?([^#]+)"},OQ:{rgx:/:\?([^:]+):/g,res:"(?:\\?([^#]*))?"},OR:{rgx:/:([^:]+)\*:/g,res:"(.*)?"},RR:{rgx:/\{([^}]+)\*\}/g,res:"(.+)"},RP:{rgx:/\{([^}]+)\}/g,res:"([^\\/?]+)"},OP:{rgx:/:([^:]+):/g,res:"([^\\/?]+)?/?"}},LOOSE_SLASH=1,STRICT_SLASH=2,LEGACY_SLASH=3,_slashMode=LOOSE_SLASH;return precompileTokens(),{strict:function(){_slashMode=STRICT_SLASH},loose:function(){_slashMode=LOOSE_SLASH},legacy:function(){_slashMode=LEGACY_SLASH},getParamIds:getParamIds,getOptionalParamsIds:getOptionalParamsIds,getParamValues:getParamValues,compilePattern:compilePattern,interpolate:interpolate}}(),crossroads};"function"==typeof define&&define.amd?define(["signals"],factory):"undefined"!=typeof module&&module.exports?module.exports=factory(require("signals")):window.crossroads=factory(window.signals)}();var transitionEnd=whichTransitionEvent(),alerts={settings:{dismiss:"Dismiss"},options:{type:"bar"},init:function(push_message){if("undefined"!=typeof LANG_MESSAGE_DISMISS&&(this.settings.dismiss=LANG_MESSAGE_DISMISS),"undefined"!=typeof push_message)for(var i=0;i<push_message.length;i++)alerts.addMessage({status:push_message[i].status,content:push_message[i].text,timeout:push_message[i].timeout,type:push_message[i].type});$("body").on("click","[data-dismiss]",this.hideNotification)},addMessage:function(options){var message_element;$.extend(alerts.options,options),"bar"===alerts.options.type&&(message_element=$('<div class="Alert Alert--bar Alert--'+alerts.options.status+' js-alertAnim" data-element-type="bar"><div class="Alert-message">'+alerts.options.content+'</div><button type="button" class="Alert-close" data-dismiss="Alert" aria-hidden="true" role="presentation">&times;</button></div>'),message_element.prependTo("body")),"modal"===alerts.options.type&&(message_element=$('<div class="u-backdrop js-alertAnim"></div><div class="Alert Alert--modal Alert--'+alerts.options.status+' js-alertAnim" data-element-type="modal"><div class="Alert-message">'+alerts.options.content+'</div><button class="Button Button--primary" data-dismiss="Alert">'+this.settings.dismiss+"</button></div>"),message_element.appendTo("body")),this.showNotification(message_element),"undefined"!=typeof alerts.options.timeout&&0!==alerts.options.timeout&&setTimeout(function(){alerts.onTimeoutNotification(message_element)},alerts.options.timeout)},showNotification:function(element){var $notification=element;$notification.animate({marginTop:0},0).addClass("js-alertAnim--show"),"modal"===alerts.options.type&&$(".u-backdrop").addClass("js-alertAnim--show")},hideNotification:function(event){var dismissselector=$(event.target).attr("data-dismiss"),$notification=$(event.target).parents("."+dismissselector);$notification.removeClass("js-alertAnim--show").addClass("js-alertAnim--hide"),"modal"===alerts.options.type&&$(".u-backdrop").first().removeClass("js-alertAnim--show").addClass("js-alertAnim--hide");var notificationHasTransformSet=null,notificationHasWebkitTransformSet=null;return window.getComputedStyle&&(notificationHasTransformSet=window.getComputedStyle($notification.get(0),null).getPropertyValue("transform"),notificationHasWebkitTransformSet=window.getComputedStyle($notification.get(0),null).getPropertyValue("-webkit-transform")),Modernizr.csstransitions&&"none"!==notificationHasTransformSet&&"none"!==notificationHasWebkitTransformSet?$notification.on(transitionEnd,function(){alerts.removeNotificationElements($(this))}):alerts.removeNotificationElements($notification),!1},removeNotificationElements:function(element){var elementtype=element.attr("data-element-type");element.remove(),"modal"===elementtype&&$(".u-backdrop").first().remove()},onTimeoutNotification:function(element){element.find("[data-dismiss]").click()}},appendAround={init:function(element_string){$(element_string).appendAround()},appendAroundElement:function(element_string){$(element_string).appendAround()}},popup={openWindow:function(event){var url=$(event.currentTarget).attr("href");"undefined"==typeof event.data.h&&(event.data.h=400),"undefined"==typeof event.data.w&&(event.data.w=650),window.open(url,"popupwin","height="+event.data.h+",width="+event.data.w+",resizable=1,toolbar=0,menubar=0,status=0,location=0,scrollbars=1"),event.preventDefault()}},smoothScroll={init:function(scroll_element){$(scroll_element).on("click",smoothScroll.onScrollClick)},onScrollClick:function(element){var el=element.target;element.preventDefault(),element.stopPropagation();var target=$(el).attr("href"),scrollToPosition=$(target).offset().top-24;return $("html:not(:animated),body:not(:animated)").animate({scrollTop:scrollToPosition},1e3,function(){$("html,body").animate({scrollTop:scrollToPosition},0)}),!1}},routing={opts:{hasPushstate:$("html").hasClass("history")},onSectionMatch:function(section){var url="/blog/"+section;routing.handlesectionLoad(url)},onSectionLeave:function(){window.location=document.location.href},handlesectionLoad:function(sectionurl){var url=sectionurl,contentbox=$("article[role=main]");$.ajax({url:url,context:contentbox}).done(function(data){var targetdata=$(data).find(".js-pg-trns-content").children();routing.handleSectionTransition(targetdata)}).fail(function(){throw"uh oh... fetching of page did not work out. how about a cup of coffee?"})},handleSectionTransition:function(targetdata){$(".js-pg-trns-target").html(targetdata).addClass("activate"),$(".js-pg-trns-target").on("transitionend",function(){$(".js-pg-trns-content").html("").removeClass("js-pg-trns-content pg-trns__content").addClass("js-pg-trns-target pg-trns__target"),$(this).removeClass("activate js-pg-trns-target pg-trns__target").addClass("js-pg-trns-content pg-trns__content"),$(this).off("transitionend")})},init:function(){if(routing.opts.hasPushstate!==!1){var sectionRoute=crossroads.addRoute("/blog/{article}"),indexRoute=crossroads.addRoute("/blog");sectionRoute.matched.add(routing.onSectionMatch),sectionRoute.switched.add(routing.onSectionLeave),$(".nav-sub a").on("click",function(){var url=$(this).attr("href");return path=routing.stripDomain(url),crossroads.parse(path),window.history.pushState({page:path},$(this).text(),path),!1}),window.onpopstate=function(){var url=document.location.href;path=routing.stripDomain(url),(sectionRoute.match(path)||indexRoute.match(path))&&crossroads.parse(path)}}},stripDomain:function(url){return url.replace(/^.*\/\/[^\/]+/,"")}};$(document).ready(function(){appendAround.init(".js-appendAround"),alerts.init(push_message),smoothScroll.init(".js-scroll"),routing.init(),$(".js-popup").on("click",{},popup.openWindow),$(".js-external").externalize({relation:"external nofollow",title:"Opens link in new window"})}),$(window).load(function(){$.resizeThrottle({options:{throttletime:100},callback:function(){appendAround.appendAroundElement(".js-appendAround")}})});